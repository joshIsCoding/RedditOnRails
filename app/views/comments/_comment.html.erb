<article class="comment">
  <header class="comment-header">
    <h6 class="author"><%= comment.author_name %></h6>
    <data class="votes" value="0"># votes</data>
    <time 
      datetime="<%= comment.created_at.strftime("%Y-%m-%dT%H:%M") %>"
      title="<%= comment.created_at.strftime("%Y-%m-%d at %I:%M %p") %>">
      <%= time_ago_in_words(comment.created_at) %>
    </time>
  </header>
  <p class="comment-contents"><%= comment.contents %></p>
  <% if current_user_mod || current_user == comment.author %>
  <footer><%= button_to "Delete Comment", comment, method: :delete %></footer>
  <% end %>
</article>
<% if comment.child_comments.any? %>
<ul class="<%= "level-#{level}" %>">
  <% comment.child_comments.with_authors.sort_created.each do |child_comment| %>
  <li>
    <%= render "comments/comment", 
        comment: child_comment, 
        current_user_mod: current_user_mod,
        level: level + 1 %>
  </li>
<% end %>

</ul>
<% end %>